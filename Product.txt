MAIN

package kolos;

public class Kolos {

    public static void main(String[] args) {
        String name = "Nazwa";
        String code = "DF-M2137";
        int price = 100;
        
        String nazwa = "Domyslna";
        String kod = "XD-M4200";
        int cena = 20;
        
        Cart cart = new Cart();
        
        cart.addItem(new Product(name, code, price));
        cart.addItem(new Product(nazwa, kod, cena));
        
        
        cart.printItems();
        cart.removeItem(code);
        cart.printItems();
    }
    
}

/////////////////////
PRODUCT


package kolos;

public class Product {
    
    private String name;
    private String code;
    private int price;

    
    public Product(String name, String code, int price){
            setName(name);
            setCode(code);
            setPrice(price);
        }
    
    public String getName(){
        return name;
    }
    
    public String getCode(){
        return code;
    }
    
    public int getPrice(){
        return price;
    }
    
    private void setName(String name){
        if(name != null){
            this.name = name;
        }else{
            throw new IllegalArgumentException("Niepoprawna nazwa!");
        }
    }
    
    private void setCode(String code){
        if(code.matches("^[a-zA-Z]{2}-[M][0-9]{4}")){
            this.code = code;
        }else{
            throw new IllegalArgumentException("Niepoprawny kod!");
        }
        
    }
    
    private void setPrice(int price){
        this.price = price;
    }
    
}

///////////////////

CART

package kolos;
import java.util.ArrayList;
import java.util.List;
import java.util.Iterator;

public class Cart {
    
    private Product product;
    private List<Product> products = new ArrayList<>();
            
    public void addItem(Product product){
            products.add(product);
    }
    
    public void printItems(){
        System.out.println("-------");
        products.forEach(product -> {System.out.println(product.getName() + " " + product.getCode() + " " + product.getPrice() );});
    }
    
    public void removeAll(){
        for(int i=0; i < products.size(); ++i){
                products.remove(i);
                
        }
    }
    
    public void removeItem(String code){
        for(Iterator<Product> it=products.iterator(); it.hasNext();){
            if(it.next().getCode().equals(code)){
                it.remove();
                break;
            }
        }
    }
    
}